<div class="container-fluid border border-black p-4">
  <div class="row row-cols-1">
    <div class="col-8 font-weight-bold border-bottom">Select a plan.</div>
  </div>
  <div class="row">
    <div class="col">
      <mat-horizontal-stepper linear #stepper animationDuration="500">
        <mat-step linear [optional]="false">
          <ng-template matStepLabel>Basic Information</ng-template>
          <div class="container-fluid">
            <div class="row row-cols-3 gy-2">
              <div class="col" *ngFor="let plan of listPlans">
                <div class="card" aria-hidden="true">
                  <div class="card-body">
                    <h4 class="card-title text-center">
                      {{ this.plan.planName | titlecase }}
                    </h4>
                    <hr />
                    <h5 class="card-title text-center">
                      {{ this.plan.planType | titlecase }} /
                      <span
                        class="text-danger"
                        *ngIf="
                          this.plan.originalPrice !==
                          this.plan.priceAfterDiscount
                        "
                      >
                        <del> {{ this.plan.originalPrice | currency }}</del>
                      </span>
                      <span class="text-danger">
                        {{ this.plan.priceAfterDiscount | currency }}
                      </span>
                    </h5>
                    <hr />
                    <ul class="list-group">
                      <li
                        class="list-group-item d-flex justify-content-between align-items-center"
                      >
                        Number of Advertisements
                        <span class="badge bg-primary rounded-pill">
                          {{ this.plan.numberOfAdvertisements }}
                        </span>
                      </li>
                      <li
                        class="list-group-item d-flex justify-content-between align-items-center"
                      >
                        Website Included

                        <div
                          *ngIf="
                            this.plan.websiteIncluded;
                            then yesSection;
                            else noSection
                          "
                        ></div>
                        <ng-template #yesSection>
                          <span class="badge bg-primary rounded-pill">
                            Yes</span
                          ></ng-template
                        >

                        <ng-template #noSection>
                          <span class="badge bg-primary rounded-pill">
                            No</span
                          ></ng-template
                        >
                      </li>
                      <li
                        class="list-group-item d-flex justify-content-between align-items-center"
                      >
                        View Construction Bids

                        <div
                          *ngIf="
                            this.plan.viewBidsIncluded;
                            then yesSection;
                            else noSection
                          "
                        ></div>
                        <ng-template #yesSection>
                          <span class="badge bg-primary rounded-pill">
                            Yes</span
                          ></ng-template
                        >

                        <ng-template #noSection>
                          <span class="badge bg-primary rounded-pill">
                            No</span
                          ></ng-template
                        >
                      </li>
                      <li
                        class="list-group-item d-flex justify-content-between align-items-center"
                      >
                        Create Construction Bids

                        <div
                          *ngIf="
                            this.plan.createBidsIncluded;
                            then yesSection;
                            else noSection
                          "
                        ></div>
                        <ng-template #yesSection>
                          <span class="badge bg-primary rounded-pill">
                            <mat-icon>check_box</mat-icon></span
                          ></ng-template
                        >

                        <ng-template #noSection>
                          <span class="badge bg-primary rounded-pill">
                            <mat-icon>close</mat-icon></span
                          ></ng-template
                        >
                      </li>

                      <li
                        class="list-group-item d-flex justify-content-between align-items-center"
                      >
                        {{ this.plan.planDescription }}
                      </li>
                      <li
                        class="list-group-item d-flex justify-content-between align-items-center"
                      >
                        <button (click)="goForward(stepper, this.plan)">
                          Select Plan
                        </button>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
            <!-- <div class="mt-5">
              <button
                mat-stroked-button
                color="primary"
                class="mx-4"
                matStepperNext
              >
                Next
              </button>
            </div> -->
          </div>
        </mat-step>
        <mat-step linear [optional]="false">
          <ng-template matStepLabel>Process Payment</ng-template>
          <div class="container-fluid border border-black p-4">
            <div class="row row-cols-1">
              <div class="col-8 font-weight-bold border-bottom">payment.</div>
            </div>
            <div class="row row-cols-4">
              <div class="col">{{ selectedPlan | json }}</div>
            </div>
          </div>

          <div class="mt-5">
            <button
              mat-stroked-button
              color="primary"
              class="mx-1"
              matStepperPrevious
              id="stepTwoBack"
            >
              Back
            </button>
            <button
              mat-stroked-button
              color="primary"
              class="mx-4"
              (click)="purchase()"
            >
              Submit
            </button>
          </div>
        </mat-step>
      </mat-horizontal-stepper>
    </div>
  </div>
</div>
